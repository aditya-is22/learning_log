{% extends "learning_logs/base.html" %}

{% block page_header %}
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1><i class="fas fa-list-ul me-2"></i>Your Topics</h1>

    <form class="d-flex" style="width: 40%;" action="{% url 'learning_logs:search_results' %}" method="get">
      <input class="form-control me-2" type="search" name="q" placeholder="Search Topics or Entries" aria-label="Search">
      <button class="btn btn-primary" type="submit"><i class="fas fa-search me-1"></i> Search</button>
    </form>
  </div>
{% endblock page_header %}

{% block content %}
  <div class="mb-4">
    <a href="{% url 'learning_logs:new_topic' %}" class="btn btn-primary"><i class="fas fa-plus me-2"></i>Add New Topic</a>
  </div>

  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    {% for topic in topics %}
      <div class="col">
        <div class="card h-100 topic-item">
          <div class="card-body">
            <h3 class="card-title h5 mb-3">
              <a href="{% url 'learning_logs:topic' topic.id %}">{{ topic }}</a>
            </h3>
            <p class="card-text text-muted small">Created: {{ topic.date_added|date:'M d, Y' }}</p>
          </div>
          <div class="card-footer bg-transparent border-top-0 text-end">
            <a href="{% url 'learning_logs:topic' topic.id %}" class="btn btn-sm btn-outline-primary"><i class="fas fa-eye me-1"></i> View Entries</a>
          </div>
        </div>
      </div>
    {% empty %}
      <div class="col-12">
        <div class="alert alert-info" role="alert">
          <i class="fas fa-info-circle me-2"></i> No topics have been added yet. Create your first topic to get started!
        </div>
      </div>
    {% endfor %}
  </div>
{% endblock content %}